{
	"contact_trg_resume_tsv":
	[{
		"content":"declare schema_name varchar; BEGIN schema_name := '\"'||TG_TABLE_SCHEMA||'\"'; EXECUTE 'set search_path to '||schema_name; IF( TG_OP='INSERT' ) THEN insert into jss_contact(id,resume_tsv,contact_tsv,sfid) values(new.id,to_tsvector('english', new.\"ts2__text_resume__c\" ),to_tsvector('english',new.\"firstname\"||' '||new.\"lastname\"||' '||new.\"title\"),new.sfid||' '); ELSIF (TG_OP = 'UPDATE') THEN UPDATE jss_contact SET resume_tsv=to_tsvector('english', new.\"ts2__text_resume__c\" ),contact_tsv= to_tsvector('english',new.\"firstname\"||' '||new.\"lastname\"||' '||new.\"title\") where id = new.id; END IF; RETURN NEW; END;"
	}],
	"skill_trigger":
	[{
		"content":"DECLARE c integer; declare schema_name varchar; BEGIN schema_name := '\"'||TG_TABLE_SCHEMA||'\"'; EXECUTE 'set search_path to '||schema_name; IF(TG_OP = 'UPDATE') THEN c:=(select \"count\" from jss_grouped_skills where name = OLD.ts2__skill_name__c); IF (c=1) THEN DELETE FROM jss_grouped_skills where name = OLD.ts2__skill_name__c; ELSE UPDATE jss_grouped_skills set count=(c-1) where name = OLD.ts2__skill_name__c; END IF; END IF; SELECT jss_grouped_skills.count into c from jss_grouped_skills where name = NEW.ts2__skill_name__c limit 1; IF FOUND THEN UPDATE jss_grouped_skills set count=(c+1) where name = NEW.ts2__skill_name__c; ELSE INSERT into jss_grouped_skills(count,name) values(1,NEW.ts2__skill_name__c); END IF; RETURN NEW; END;"
	}],
	"education_trigger":
	[{
		"content":"DECLARE c integer; declare schema_name varchar; BEGIN schema_name := '\"'||TG_TABLE_SCHEMA||'\"'; EXECUTE 'set search_path to '||schema_name; IF(TG_OP = 'UPDATE') THEN c:=(select \"count\" from jss_grouped_educations where name = OLD.ts2__name__c); IF (c=1) THEN DELETE FROM jss_grouped_educations where name = OLD.ts2__name__c; ELSE UPDATE jss_grouped_educations set count=(c-1) where name = OLD.ts2__name__c; END IF; END IF; SELECT jss_grouped_educations.count into c from jss_grouped_educations where name = NEW.ts2__name__c limit 1; IF FOUND THEN UPDATE jss_grouped_educations set count=(c+1) where name = NEW.ts2__name__c; ELSE INSERT into jss_grouped_educations(count,name) values(1,NEW.ts2__name__c); END IF; RETURN NEW; END;"
	}],
	"employer_trigger":
	[{
		"content":"DECLARE c integer; declare schema_name varchar; BEGIN schema_name := '\"'||TG_TABLE_SCHEMA||'\"'; EXECUTE 'set search_path to '||schema_name; IF(TG_OP = 'UPDATE') THEN c:=(select \"count\" from jss_grouped_employers where name = OLD.ts2__name__c); IF (c=1) THEN DELETE FROM jss_grouped_employers where name = OLD.ts2__name__c; ELSE UPDATE jss_grouped_employers set count=(c-1) where name = OLD.ts2__name__c; END IF; END IF; SELECT jss_grouped_employers.count into c from jss_grouped_employers where name = NEW.ts2__name__c limit 1; IF FOUND THEN UPDATE jss_grouped_employers set count=(c+1) where name = NEW.ts2__name__c; ELSE INSERT into jss_grouped_employers(count,name) values(1,NEW.ts2__name__c); END IF; RETURN NEW; END;"
	}]
}
